<input id="search" placeholder="Search items like 'eggs'">
<ul id="suggestions"></ul>
<script>
  const input = document.getElementById('search');
  const suggestions = document.getElementById('suggestions');

  let timer = null;
  input.addEventListener('input', (e) => {
    clearTimeout(timer);
    const q = e.target.value.trim();
    if(!q) { suggestions.innerHTML=''; return; }
    timer = setTimeout(async () => {
      const resp = await fetch(`/api/search?q=${encodeURIComponent(q)}&location=02139`);
      const json = await resp.json();
      suggestions.innerHTML = json.results.map(r => `<li>${r.product} â€” ${r.best_price}</li>`).join('');
    }, 200); // debounce
  });