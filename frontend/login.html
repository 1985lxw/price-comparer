<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Price Comparer - Sign in or Continue as Guest</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900">
<header class="border-b border-slate-200 bg-white">
<div class="mx-auto flex max-w-3xl items-center gap-3 px-4 py-3">
<div class="flex h-9 w-9 items-center justify-center rounded-2xl bg-slate-900 text-white">$</div>
<div>
<div class="text-sm font-semibold">Price Comparer</div>
</div>
</div>
</header>


<main class="mx-auto max-w-3xl px-4">
<div class="mt-10 grid grid-cols-1 gap-6 md:grid-cols-2">

<!-- Sign in card -->
<div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
<h1 class="mb-1 text-lg font-semibold">Sign in</h1>
<p class="mb-4 text-sm text-slate-600">Use an email to unlock saved searches and other features. No password is required.</p>
<label class="mb-2 block text-sm" for="email">Email</label>
<input id="email" type="email" placeholder="you@example.com" class="w-full rounded-2xl border border-slate-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-400" />
<button id="loginBtn" class="mt-4 inline-flex w-full items-center justify-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-slate-800 active:bg-slate-950 focus:outline-none focus:ring-2 focus:ring-slate-400">Continue</button>
<p id="loginMsg" class="mt-3 hidden text-xs text-emerald-700">Signed in. Redirecting to the app...</p>
</div>


<!-- Guest card -->
<div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
<h2 class="mb-1 text-lg font-semibold">Use guest mode</h2>
<p class="mb-4 text-sm text-slate-600">Browse and compare prices without an account. You can switch to sign in later.</p>
<button id="guestBtn" class="inline-flex w-full items-center justify-center rounded-2xl border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-900 shadow-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-400">Continue as guest</button>
<p id="guestMsg" class="mt-3 hidden text-xs text-emerald-700">Guest mode enabled. Redirecting to the app...</p>
</div>
</div>
</main>


<script>
const STORAGE_KEY = 'pc_auth';
const redirectTarget = './index.html';


function saveAuth(value) {
try { localStorage.setItem(STORAGE_KEY, JSON.stringify(value)); } catch (e) {}
}


document.getElementById('loginBtn').addEventListener('click', function () {
const email = document.getElementById('email').value.trim();
const name = email ? email.split('@')[0] : 'Demo User';
saveAuth({ mode: 'user', user: { name, email } });
document.getElementById('loginMsg').classList.remove('hidden');
setTimeout(() => { window.location.href = redirectTarget; }, 600);
});


document.getElementById('guestBtn').addEventListener('click', function () {
saveAuth({ mode: 'guest', user: null });
document.getElementById('guestMsg').classList.remove('hidden');
setTimeout(() => { window.location.href = redirectTarget; }, 600);
});
</script>
</body>
</html>